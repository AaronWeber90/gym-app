import{e as d,t as f,i as u,h as m,B as p,k as b,l as v}from"./index-BhAKEHLh.js";import{g as k,a as _,b as y}from"./create-workout-resource-DLYx7usN.js";var C=f('<dialog class=modal><div class=modal-box><h3 class="font-bold text-lg mb-2">Neuer Trainingsplan</h3><form><input type=text placeholder="Workout name"class="input input-bordered w-full mb-4"><div class=modal-action>'),S=f('<div class="fab fab-overwrite pb-4"><button class="btn btn-lg btn-circle btn-primary"type=button>+');const D=h=>{const[w,l]=d(!1),[c,i]=d(""),g=()=>{i(""),l(!1)},$=async()=>{const t=c().trim();if(t)try{const e=await k(),s=await _(e,"workouts",!0),a=crypto.randomUUID(),r=await(await y(s,`${a}.json`,!0)).createWritable(),o={id:a,name:t,created_at:new Date().toISOString(),exercises:[]};await r.write(JSON.stringify(o,null,2)),await r.close(),l(!1),i(""),await h.onCreated?.()}catch(e){console.error("Failed to add workout:",e)}};return[(()=>{var t=C(),e=t.firstChild,s=e.firstChild,a=s.nextSibling,n=a.firstChild,r=n.nextSibling;return a.addEventListener("submit",o=>{o.preventDefault(),$()}),n.$$input=o=>i(o.currentTarget.value),u(r,m(p,{variant:"ghost",onClick:g,children:"Abbrechen"}),null),u(r,m(p,{type:"submit",variant:"primary",children:"Speichern"}),null),b(()=>t.open=w()),b(()=>n.value=c()),t})(),(()=>{var t=S(),e=t.firstChild;return e.$$click=()=>l(!0),t})()]};v(["input","click"]);export{D as default};
