import{e as U,g as k,h as u,t as d,i as r,B as W,m as Y,F as j,k as X,p as D}from"./index-DyGIYi1e.js";import{c as Z}from"./create-workout-resource-DN_sWI3n.js";import{H as ee,A as te}from"./header-0jE8W1h3.js";var se=d('<svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M15 19l-7-7 7-7">'),re=d('<svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 5l7 7-7 7">'),ne=d('<div class=mx-auto><div class=mb-6><div class="flex items-center justify-between mb-3"><h2 class="text-xl font-bold tracking-tight"></h2><div class="flex gap-2"></div></div><div class="grid grid-cols-2 gap-3"><div class="bg-base-200 rounded-lg p-3"><div class="text-xs text-base-content/60 font-medium">Diese Woche</div><div class="text-2xl font-bold text-primary"></div><div class="text-xs text-base-content/50">Trainings</div></div><div class="bg-base-200 rounded-lg p-3"><div class="text-xs text-base-content/60 font-medium">Aktive Tage</div><div class="text-2xl font-bold text-secondary"></div><div class="text-xs text-base-content/50">von 7 Tagen</div></div></div></div><div class=space-y-3>'),ie=d('<div><div><div class="flex items-center justify-between"><div><div></div><div></div></div><div class=text-right><div class="text-xs text-base-content/50"></div></div></div></div><div class=p-4>'),ae=d('<div class="badge badge-primary badge-sm mt-1">Heute'),oe=d("<div class=space-y-2>"),le=d('<div class="flex items-center gap-3 p-3 bg-primary text-primary-content rounded-lg hover:bg-primary-focus transition-colors group"><div class="w-2 h-2 bg-primary-content rounded-full flex-shrink-0"></div><div class="font-medium text-sm flex-1 min-w-0"></div><svg class="w-5 h-5 flex-shrink-0 opacity-60 group-hover:opacity-100 transition-opacity"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 5l7 7-7 7">'),de=d('<div class="text-center text-base-content/40 text-sm">Kein Training');const _=["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],ce=["Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"],me=()=>{const{workouts:B}=Z(),[A,w]=U(0),H=e=>{const t=new Date(e),s=t.getDay(),c=t.getDate()-s+(s===0?-6:1);return new Date(t.setDate(c))},f=k(()=>{const e=new Date,t=A(),s=H(e);s.setDate(s.getDate()+t*7);const c=[];for(let o=0;o<7;o++){const g=new Date(s);g.setDate(s.getDate()+o);const p=B()?.flatMap(a=>!a.sessions||a.sessions.length===0?[]:a.sessions.filter(l=>{const m=new Date(l.date);return m.getDate()===g.getDate()&&m.getMonth()===g.getMonth()&&m.getFullYear()===g.getFullYear()}).map(l=>({id:a.id,name:a.name,sessionId:l.id,timestamp:l.date}))).sort((a,l)=>new Date(l.timestamp).getTime()-new Date(a.timestamp).getTime())||[];c.push({date:g,dayName:ce[o],workouts:p})}return c}),J=k(()=>{const e=f();if(e.length===0)return"";const t=e[0].date,s=e[6].date;return t.getMonth()===s.getMonth()?`${t.getDate()}. - ${s.getDate()}. ${_[t.getMonth()]} ${t.getFullYear()}`:`${t.getDate()}. ${_[t.getMonth()]} - ${s.getDate()}. ${_[s.getMonth()]} ${t.getFullYear()}`}),O=()=>{w(e=>e-1)},R=()=>{w(e=>e+1)},z=()=>{w(0)},y=new Date,v=e=>e.getDate()===y.getDate()&&e.getMonth()===y.getMonth()&&e.getFullYear()===y.getFullYear(),E=k(()=>f().reduce((e,t)=>e+t.workouts.length,0)),I=k(()=>f().filter(e=>e.workouts.length>0).length);return[u(ee,{title:"Übersicht"}),(()=>{var e=ne(),t=e.firstChild,s=t.firstChild,c=s.firstChild,o=c.nextSibling,g=s.nextSibling,p=g.firstChild,a=p.firstChild,l=a.nextSibling,m=p.nextSibling,K=m.firstChild,V=K.nextSibling,q=t.nextSibling;return r(c,J),r(o,u(W,{onClick:O,class:"btn btn-sm btn-ghost","aria-label":"Vorherige Woche",get children(){return se()}}),null),r(o,u(W,{onClick:z,class:"btn btn-sm btn-primary",children:"Heute"}),null),r(o,u(W,{onClick:R,class:"btn btn-sm btn-ghost","aria-label":"Nächste Woche",get children(){return re()}}),null),r(l,E),r(V,I),r(q,u(j,{get each(){return f()},children:i=>(()=>{var C=ie(),M=C.firstChild,G=M.firstChild,T=G.firstChild,S=T.firstChild,F=S.nextSibling,N=T.nextSibling,L=N.firstChild,P=M.nextSibling;return r(S,()=>i.dayName),r(F,()=>i.date.getDate()),r(L,()=>_[i.date.getMonth()]),r(N,(()=>{var n=Y(()=>!!v(i.date));return()=>n()&&ae()})(),null),r(P,(()=>{var n=Y(()=>i.workouts.length>0);return()=>n()?(()=>{var h=oe();return r(h,u(j,{get each(){return i.workouts},children:b=>u(te,{get href(){return`/workouts/${b.id}`},class:"block",get children(){var x=le(),$=x.firstChild,Q=$.nextSibling;return r(Q,()=>b.name),x}})})),h})():de()})()),X(n=>{var h=`bg-base-100 rounded-xl border-2 transition-all ${v(i.date)?"border-primary shadow-lg shadow-primary/20":"border-base-300 hover:border-base-400"}`,b=`p-4 border-b ${v(i.date)?"border-primary/20 bg-primary/5":"border-base-300"}`,x=`text-sm font-semibold ${v(i.date)?"text-primary":"text-base-content/60"}`,$=`text-2xl font-bold ${v(i.date)?"text-primary":"text-base-content"}`;return h!==n.e&&D(C,n.e=h),b!==n.t&&D(M,n.t=b),x!==n.a&&D(S,n.a=x),$!==n.o&&D(F,n.o=$),n},{e:void 0,t:void 0,a:void 0,o:void 0}),C})()})),e})()]};export{me as default};
